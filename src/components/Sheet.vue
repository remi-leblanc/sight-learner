<template>
	<div id="sheet" class="frame">
		<div id="sheet-top" class="wrapper">
			<span v-for="id in extLines.top" :key="id" class="line"></span>
		</div>
		<div id="sheet-inner" class="wrapper">
			<span class="line"></span>
			<span class="line"></span>
			<span class="line"></span>
			<span class="line"></span>
			<span class="line"></span>
			<svg id="sol" v-if="keyName == 'G'" viewBox="0 0 17 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
				<g transform="matrix(1,0,0,1,-14.818,-35.7495)">
					<g transform="matrix(1,0,0,1,-10.269,-60.9295)">
						<path fill="#000" d="M41.963,127.782C41.963,129.237 41.586,130.573 40.867,131.714C40.149,132.895 39.055,133.762 37.582,134.35L38.074,136.947L38.64,139.62C38.64,139.936 38.678,140.252 38.716,140.566C38.753,140.879 38.791,141.194 38.791,141.547C38.791,141.783 38.752,142.02 38.716,142.296C38.678,142.569 38.64,142.769 38.603,142.924C38.565,143.081 38.489,143.277 38.414,143.475C38.339,143.711 38.225,143.907 38.112,144.104C37.885,144.497 37.62,144.812 37.319,145.127C36.979,145.44 36.64,145.715 36.261,145.873C35.507,146.307 34.677,146.503 33.733,146.503C32.411,146.503 31.278,146.15 30.334,145.401C29.844,145.008 29.466,144.576 29.202,144.027C28.938,143.474 28.825,142.884 28.825,142.297L28.825,141.508L29.126,140.683C29.315,140.251 29.618,139.859 30.07,139.462C30.486,139.109 31.015,138.915 31.581,138.915C31.997,138.915 32.411,139.033 32.828,139.269C33.242,139.503 33.581,139.859 33.847,140.33C34.111,140.802 34.262,141.314 34.262,141.863C34.262,142.57 33.999,143.2 33.545,143.712C33.092,144.224 32.488,144.458 31.77,144.458L31.506,144.458C31.96,145.207 32.714,145.562 33.771,145.562C34.226,145.562 34.791,145.482 35.395,145.248C35.923,145.011 36.376,144.697 36.754,144.303C37.131,143.99 37.397,143.556 37.547,143.085C37.698,142.613 37.811,141.903 37.811,140.961L37.811,139.938C37.735,139.622 37.661,139.388 37.661,139.231L37.17,136.91L36.678,134.711C35.923,134.945 35.205,135.023 34.488,135.023C33.242,135.023 32.036,134.749 30.864,134.199C29.656,133.646 28.674,132.861 27.843,131.918C27.39,131.368 27.012,130.856 26.71,130.385C26.409,129.912 26.106,129.322 25.842,128.614C25.54,127.905 25.351,127.317 25.276,126.805C25.2,126.296 25.125,125.94 25.125,125.703C25.087,125.507 25.087,125.154 25.087,124.682C25.087,124.405 25.087,124.131 25.125,123.816C25.125,123.501 25.163,123.226 25.239,122.951C25.314,122.716 25.39,122.4 25.502,122.006C25.58,121.653 25.691,121.339 25.805,121.102C26.221,119.963 26.75,118.902 27.392,117.917C27.919,117.169 28.259,116.699 28.41,116.461C28.637,116.149 29.015,115.674 29.506,115.126L32.374,112.017C32.224,111.585 32.11,111.115 32.036,110.601C31.921,110.13 31.808,109.461 31.695,108.635C31.543,107.849 31.506,106.945 31.506,105.959L31.506,105.016C31.506,104.703 31.506,104.387 31.581,104.073L31.883,102.224C32.111,101.124 32.45,100.101 32.903,99.274C33.357,98.409 33.848,97.779 34.376,97.348C34.904,96.915 35.281,96.679 35.508,96.679C35.697,96.755 35.809,96.836 35.885,96.875L36.375,97.386C37.734,99.511 38.451,102.027 38.451,104.859L38.338,106.943C38.264,107.572 38.112,108.241 37.923,108.947C37.546,110.324 37.054,111.622 36.375,112.803C35.696,114.021 34.903,115.045 33.997,115.91L34.941,120.667L36.036,120.667C36.942,120.667 37.773,120.863 38.452,121.218C38.829,121.415 39.17,121.65 39.473,121.924C39.775,122.2 40.077,122.514 40.34,122.829C40.794,123.379 41.208,124.126 41.51,125.071C41.811,126.012 41.963,126.916 41.963,127.782ZM36.451,133.799L34.677,124.201C33.997,124.358 33.356,124.831 32.75,125.539C32.146,126.248 31.844,127.072 31.844,127.977C31.844,128.527 31.996,129.119 32.335,129.747C32.675,130.377 33.205,130.888 33.921,131.203C34.148,131.203 34.26,131.323 34.26,131.518C34.11,131.636 33.997,131.675 33.921,131.675C32.864,131.441 31.996,130.849 31.278,129.904C31.127,129.747 31.015,129.509 30.863,129.236C30.712,129.001 30.598,128.727 30.486,128.45C30.297,127.86 30.221,127.31 30.221,126.798C30.221,126.171 30.297,125.54 30.486,124.99C30.562,124.714 30.674,124.437 30.826,124.163C30.939,123.928 31.091,123.613 31.318,123.298C31.997,122.236 32.903,121.45 34.035,120.938L33.243,116.611C31.356,118.224 29.883,119.878 28.825,121.528C28.221,122.435 27.769,123.339 27.466,124.282C27.164,125.227 27.012,126.17 27.012,127.074C27.012,127.309 27.012,127.586 27.051,127.822C27.09,128.058 27.126,128.254 27.126,128.374L27.503,129.71C27.805,130.495 28.334,131.243 29.014,131.989C29.73,132.737 30.486,133.287 31.354,133.641C32.184,133.995 33.128,134.152 34.148,134.152L35.205,134.152L36.451,133.799ZM37.357,103.243L37.357,102.338C37.282,101.905 37.13,101.549 36.904,101.353C36.676,101.118 36.376,101 36.035,101C35.318,101 34.677,101.47 34.11,102.337C33.921,102.69 33.733,103.083 33.544,103.518C33.356,103.989 33.168,104.498 33.016,105.128L32.676,106.74L32.563,108.313C32.563,108.903 32.601,109.374 32.676,109.729C32.752,110.124 32.789,110.397 32.828,110.555C32.865,110.713 32.979,110.988 33.129,111.304C33.507,111.069 33.921,110.673 34.451,110.045L35.848,107.96C36.3,107.174 36.678,106.348 36.942,105.521C37.018,105.286 37.13,104.894 37.244,104.342L37.357,103.243ZM40.075,128.527C39.998,127.702 39.734,126.955 39.357,126.248C38.979,125.578 38.451,125.029 37.772,124.635C37.092,124.241 36.374,124.044 35.545,124.044L37.394,133.482C39.169,132.699 40.075,131.044 40.075,128.527Z" style="fill-rule:nonzero;"/>
					</g>
				</g>
			</svg>
			<svg id="fa" v-if="keyName == 'F'" viewBox="0 0 21 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
				<g transform="matrix(1,0,0,1,-13.571,-148.17)">
					<g transform="matrix(1,0,0,1,-10.269,-84.8906)">
						<path fill="#000" d="M27.145,236.976C27.233,237.357 27.526,237.622 28.022,237.773C28.243,237.842 28.721,237.922 29.455,238.01C30.552,238.143 31.069,238.915 31.007,240.321C30.971,241.01 30.631,241.554 29.985,241.952C29.409,242.298 28.715,242.471 27.902,242.471C27.016,242.471 26.292,242.245 25.726,241.794C25.097,241.289 24.761,240.573 24.716,239.645C24.628,237.865 25.318,236.193 26.786,234.628C27.768,233.584 29.303,233.061 31.392,233.061C32.073,233.061 32.741,233.12 33.395,233.236C35.191,233.562 36.655,234.5 37.788,236.049C38.814,237.456 39.329,238.978 39.329,240.614C39.329,240.852 39.315,241.088 39.288,241.318C39.049,243.37 37.677,245.582 35.174,247.952C33.245,249.785 30.918,251.489 28.193,253.065C25.786,254.445 24.375,255.065 23.959,254.933L23.84,254.415C25.336,253.894 26.848,253.086 28.379,251.988C30.405,250.544 31.878,249.182 32.798,247.899C33.903,246.369 34.635,244.467 34.987,242.193C35.129,241.298 35.199,240.489 35.199,239.764C35.199,237.383 34.398,235.712 32.797,234.747C32.097,234.321 31.355,234.108 30.568,234.108C29.401,234.108 28.445,234.456 27.701,235.146C27.285,235.525 27.078,235.961 27.078,236.459C27.079,236.618 27.101,236.79 27.145,236.976ZM43.33,235.794C43.679,236.131 43.854,236.551 43.854,237.054C43.854,237.435 43.739,237.781 43.509,238.089C43.181,238.532 42.721,238.753 42.129,238.753C41.678,238.753 41.288,238.611 40.961,238.329C40.572,237.984 40.378,237.544 40.378,237.016C40.378,236.592 40.506,236.218 40.763,235.9C41.089,235.491 41.528,235.29 42.077,235.29C42.563,235.29 42.979,235.458 43.33,235.794ZM43.33,241.926C43.679,242.262 43.854,242.681 43.854,243.186C43.854,243.567 43.739,243.913 43.509,244.223C43.181,244.662 42.721,244.883 42.129,244.883C41.678,244.883 41.288,244.744 40.961,244.459C40.572,244.115 40.378,243.676 40.378,243.146C40.378,242.722 40.506,242.35 40.763,242.033C41.089,241.626 41.528,241.422 42.077,241.422C42.563,241.423 42.979,241.587 43.33,241.926Z" style="fill-rule:nonzero;"/>
					</g>
				</g>
			</svg>
			<img id="note" :style="getStyle" :class="{'rotate': sheetPos < 0 ? true : false}" src="@/assets/icons/note.svg" draggable="false"/>
			<img id="diese" :class="{active: noteAlt === 1}" :style="getStyle" src="@/assets/icons/diese.svg" draggable="false"/>
		</div>
		<div id="sheet-bot" class="wrapper">
			<span v-for="id in extLines.bot" :key="id" class="line"></span>
		</div>
	</div>
</template>

<script>
import '@/assets/css/sheet.css'

export default {
	name: 'Sheet',
	components: {

	},
	props: ['sheetPos', 'noteAlt', 'keyName'],
	computed: {
		noteData: function(){
			return this.note.split('');
		},
		getStyle: function(){
			return {
				top: 12.5 * this.sheetPos + '%'
			}
		},
		extLines: function(){
			let extLines = {'top': 0, 'bot': 0}
			if(this.sheetPos > 5 || this.sheetPos < -5){
				let pos = 'top'
				if(this.sheetPos > 5){
					pos = 'bot'
				}
				extLines[pos] = Math.round((Math.abs(this.sheetPos) - 5) / 2)
			}
			return extLines
		}
	},
	mounted: function() {

	}
}
</script>